{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@litalino/geo-weather-widget/webpack/bootstrap","webpack://@litalino/geo-weather-widget/webpack/runtime/compat get default export","webpack://@litalino/geo-weather-widget/webpack/runtime/define property getters","webpack://@litalino/geo-weather-widget/webpack/runtime/hasOwnProperty shorthand","webpack://@litalino/geo-weather-widget/webpack/runtime/make namespace object","webpack://@litalino/geo-weather-widget/external root \"flarum.core.compat['forum/app']\"","webpack://@litalino/geo-weather-widget/external root \"flarum.core.compat['extensions/afrux-forum-widgets-core/common/extend/Widgets']\"","webpack://@litalino/geo-weather-widget/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@litalino/geo-weather-widget/external root \"flarum.core.compat['extensions/afrux-forum-widgets-core/common/components/Widget']\"","webpack://@litalino/geo-weather-widget/external root \"flarum.core.compat['common/extend']\"","webpack://@litalino/geo-weather-widget/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@litalino/geo-weather-widget/./src/common/components/GeoWeather.js","webpack://@litalino/geo-weather-widget/external root \"flarum.core.compat['common/components/Page']\"","webpack://@litalino/geo-weather-widget/external root \"flarum.core.compat['common/utils/extractText']\"","webpack://@litalino/geo-weather-widget/./src/common/components/geoWeatherWidget.js","webpack://@litalino/geo-weather-widget/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@litalino/geo-weather-widget/./src/forum/index.js","webpack://@litalino/geo-weather-widget/./src/common/registerWidget.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['extensions/afrux-forum-widgets-core/common/extend/Widgets'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['extensions/afrux-forum-widgets-core/common/components/Widget'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/IndexPage'];","/*\n * This file is part of justoverclock/flarum-ext-skypemoji.\n *\n * Copyright (c) 2021 Marco Colia.\n * https://flarum.it\n *\n * For the full copyright and license information, please view the LICENSE.md\n * file that was distributed with this source code.\n */\n\nimport app from \"flarum/forum/app\";\n\nexport default function () {\n  function getLocation() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(getWeather);\n    } else {\n      alert(app.translator.trans(\"geo-weather.forum.not-supported\"));\n    }\n  }\n\n  function getWeather(position) {\n    let lat = position.coords.latitude;\n    let long = position.coords.longitude;\n    let API_KEY = app.forum.attribute(\"wheaterApiKey\");\n    let lang = app.forum.attribute(\"lang\") || \"en\";\n    //let baseURL = `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${long}&lang=${lang}&appid=${API_KEY}`;\n    let baseURL = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${long}&lang=${lang}&appid=${API_KEY}&exclude=hourly,daily`;\n    //let baseURL = `https://api.openweathermap.org/data/3.0/onecall?lat=${lat}&lon=${long}&exclude=minutely&appid=${API_KEY}&units=metric&lang=${lang}`;\n    //let baseURL = `https://api.openweathermap.org/data/3.0/onecall?lat=${lat}&lon=${long}&lang=${lang}&appid=${API_KEY}&exclude=hourly,daily`;\n    //let baseURL = `https://api.openweathermap.org/data/2.5/forecast?lat=50.7001&lon=4.988987&appid=364d01e717bf215a28cc072aed7234cd&units=metric&lang=vi`;\n\n    const iconCodes = {\n      \"01d\":\n        '<img src=\"https://openweathermap.org/img/wn/01d@2x.png\" height=\"42\" width=\"42\" style=\"vertical-align: middle\">',\n      \"01n\":\n        '<img src=\"https://openweathermap.org/img/wn/01n@2x.png\" height=\"42\" width=\"42\" style=\"vertical-align: middle\">',\n      \"02d\":\n        '<img src=\"https://openweathermap.org/img/wn/02d@2x.png\" height=\"42\" width=\"42\" style=\"vertical-align: middle\">',\n      \"02n\":\n        '<img src=\"https://openweathermap.org/img/wn/02n@2x.png\" height=\"42\" width=\"42\" style=\"vertical-align: middle\">',\n      \"03d\":\n        '<img src=\"https://openweathermap.org/img/wn/03d@2x.png\" height=\"42\" width=\"42\" style=\"vertical-align: middle\">',\n      \"03n\":\n        '<img src=\"https://openweathermap.org/img/wn/03n@2x.png\" height=\"42\" width=\"42\" style=\"vertical-align: middle\">',\n      \"04d\":\n        '<img src=\"https://openweathermap.org/img/wn/04d@2x.png\" height=\"42\" width=\"42\" style=\"vertical-align: middle\">',\n      \"04n\":\n        '<img src=\"https://openweathermap.org/img/wn/04n@2x.png\" height=\"42\" width=\"42\" style=\"vertical-align: middle\">',\n      \"09d\":\n        '<img src=\"https://openweathermap.org/img/wn/09d@2x.png\" height=\"42\" width=\"42\" style=\"vertical-align: middle\">',\n      \"09n\":\n        '<img src=\"https://openweathermap.org/img/wn/09n@2x.png\" height=\"42\" width=\"42\" style=\"vertical-align: middle\">',\n      \"10d\":\n        '<img src=\"https://openweathermap.org/img/wn/10d@2x.png\" height=\"42\" width=\"42\" style=\"vertical-align: middle\">',\n      \"10n\":\n        '<img src=\"https://openweathermap.org/img/wn/10n@2x.png\" height=\"42\" width=\"42\" style=\"vertical-align: middle\">',\n      \"11d\":\n        '<img src=\"https://openweathermap.org/img/wn/11d@2x.png\" height=\"42\" width=\"42\" style=\"vertical-align: middle\">',\n      \"11n\":\n        '<img src=\"https://openweathermap.org/img/wn/11n@2x.png\" height=\"42\" width=\"42\" style=\"vertical-align: middle\">',\n      \"13d\":\n        '<img src=\"https://openweathermap.org/img/wn/13d@2x.png\" height=\"42\" width=\"42\" style=\"vertical-align: middle\">',\n      \"13n\":\n        '<img src=\"https://openweathermap.org/img/wn/13n@2x.png\" height=\"42\" width=\"42\" style=\"vertical-align: middle\">',\n      \"50d\":\n        '<img src=\"https://openweathermap.org/img/wn/50d@2x.png\" height=\"42\" width=\"42\" style=\"vertical-align: middle\">',\n      \"50n\":\n        '<img src=\"https://openweathermap.org/img/wn/50n@2x.png\" height=\"42\" width=\"42\" style=\"vertical-align: middle\">',\n    };\n    https: $.get(baseURL, function (res) {\n      //let data = res.current;\n      //let temp = Math.floor(data.temp - 273);\n      let temp = Math.floor(res.main.temp - 273);\n      //let condition = data.weather[0].description;\n      let condition = res.weather[0].description;\n      let icon = iconCodes[res.weather[0].icon]; //res.weather[0].icon;\n\n      let wind = res.wind.speed;\n      let clouds = res.clouds.all;\n      let rain = ''; //res.rain.`1h`;\n      \n      $(\"#temp-main\").html(`${temp}°`);\n      //$(\"#condition\").html(condition);\n      $(\"#condition\").html(function () {\n        var txt = \"<em>\" + icon + condition + \" </em>\";\n        return \" \" + txt + \" \";\n      });\n      //$(\"#icon\").html(icon);\n      //$(\"#wind\").html(wind);\n      $(\"#wind\").html(function () {\n        var txt =\n          \"<em>\" + app.translator.trans(\"geo-weather.forum.wind\") + \": \" +\n          wind +\n          \" </em>\";\n        return \"  \" + txt + \" \";\n      });\n      //$(\"#clouds\").html(\"Clouds \"+ clouds);\n      $(\"#clouds\").html(function () {\n        var txt =\n          \"<em>\" + app.translator.trans(\"geo-weather.forum.clouds\") + \": \" +\n          clouds + \n          \" % </em>\";\n        return \"  \" + txt + \" \";\n      });\n\n      $(\"#rain\").html(function () {\n        var txt =\n          \"<em>\" +\n          app.translator.trans(\"geo-weather.forum.rain\") +\n          \": \" +\n          rain +\n          \" </em>\";\n        return \"  \" + txt + \" \";\n      });\n\n    });\n  }\n\n  getLocation();\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Page'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/extractText'];","/*\n * This file is part of Geo Weather Widget.\n *\n * Copyright (c) 2023 Litalino.\n * https://khatvongsong,vn\n *\n * For the full copyright and license information, please view the LICENSE.md\n * file that was distributed with this source code.\n */\n\nimport Widget from \"flarum/extensions/afrux-forum-widgets-core/common/components/Widget\";\n//import app from 'flarum/forum/app';\n//import LoadingIndicator from 'flarum/common/components/LoadingIndicator';\n//import Link from \"flarum/common/components/Link\";\n\nimport app from \"flarum/forum/app\";\nimport { extend } from \"flarum/common/extend\";\nimport IndexPage from \"flarum/forum/components/IndexPage\";\nimport GeoWeather from \"./GeoWeather\";\nimport Page from \"flarum/common/components/Page\";\nimport extractText from \"flarum/common/utils/extractText\";\n\nexport default class geoWeatherWidget extends Widget {\n  className() {\n    // Widget title.\n    return \"Litalino-GeoWeatherWidget\";\n  }\n\n  icon() {\n    // Widget icon.\n    return \"fas fa-chart-pie\";\n  }\n\n  title() {\n    // Widget title.\n    return extractText(\n      app.translator.trans(\"geo-weather.forum.widget.title\")\n    );\n  }\n\n  content() {\n    extend(Page.prototype, [\"oncreate\", \"onupdate\"], GeoWeather);\n    extend(IndexPage.prototype, \"oncreate\", function () {\n      function settingClock() {\n        var today = new Date();\n        var hour = today.getHours();\n        var minute = today.getMinutes();\n        var second = today.getSeconds();\n\n        if (hour < 10) {\n          hour = \"0\" + hour;\n        }\n        if (minute < 10) {\n          minute = \"0\" + minute;\n        }\n        if (second < 10) {\n          second = \"0\" + second;\n        }\n\n        var frame = document.getElementById(\"time\");\n        frame.innerHTML = hour + \":\" + minute + \":\" + second;\n      }\n\n      this.timeInterval = setInterval(settingClock, 500);\n    });\n    extend(IndexPage.prototype, \"onremove\", function () {\n      clearInterval(this.timeInterval);\n    });\n    extend(IndexPage.prototype, \"oncreate\", (items) => {\n      const bgimage =\n        app.forum.attribute(\"baseUrl\") +\n        \"/assets/extensions/justoverclock-geo-weather/4seasons.gif\";\n      items.add(\n        \"GeoWeatherWg\",\n        m(\n          \"div\",\n          {\n            className: \"weather\",\n            style: \"background-image: url(\" + bgimage + \")\",\n          },\n          [\n            m(\n              \"div\",\n              { id: \"temp-main\" },\n              app.translator.trans(\"geo-weather.forum.temp\")\n            ),\n            m(\"div\", { id: \"time\" }),\n\n            m(\n              \"div\",\n              { id: \"condition\" },\n              app.translator.trans(\"geo-weather.forum.unknown\")\n            ),\n            m(\n              \"ul\",\n              { className: \"col-w-c\" },\n              m(\n                \"li\",\n                { id: \"wind\" },\n                app.translator.trans(\"geo-weather.forum.wind\")\n              ),\n              m(\n                \"li\",\n                { id: \"clouds\" },\n                app.translator.trans(\"geo-weather.forum.clouds\")\n              ),\n              /*m(\n                  \"li\",\n                  { id: \"rain\" },\n                  app.translator.trans(\"geo-weather.forum.rain\")\n                ),*/\n              m(\n                \"li\",\n                { id: \"humidity\" },\n                app.translator.trans(\"geo-weather.forum.humidity\")\n              )\n            ),\n          ]\n        ),\n        10\n      );\n    });\n  }\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","/*\n * This file is part of Geo Weather Widget.\n *\n * Copyright (c) 2023 Litalino.\n * https://khatvongsong,vn\n *\n * For the full copyright and license information, please view the LICENSE.md\n * file that was distributed with this source code.\n */\n\nimport app from 'flarum/forum/app';\nimport registerWidget from '../common/registerWidget';\n\napp.initializers.add('litalino/geo-weather-widget', () => {\n    registerWidget(app);\n});","/*\n * This file is part of Geo Weather Widget.\n *\n * Copyright (c) 2023 Litalino.\n * https://khatvongsong.vn\n *\n * For the full copyright and license information, please view the LICENSE.md\n * file that was distributed with this source code.\n */\n\nimport Widgets from 'flarum/extensions/afrux-forum-widgets-core/common/extend/Widgets';\nimport geoWeatherWidget from './components/geoWeatherWidget';\n\nexport default function (app) {\n    new Widgets()\n        .add({\n            key: 'geoWeatherWidget',\n            component: geoWeatherWidget,\n            isDisabled: false,\n            isUnique: true,\n            placement: 'end',\n            position: 1,\n        })\n        .extend(app, 'litalino-geo-weather-widget');\n}"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","_setPrototypeOf","p","setPrototypeOf","bind","__proto__","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","long","longitude","API_KEY","app","attribute","baseURL","iconCodes","$","res","temp","Math","floor","main","condition","weather","description","icon","wind","speed","clouds","all","html","trans","alert","geoWeatherWidget","_Widget","subClass","superClass","apply","arguments","create","constructor","_proto","className","title","extractText","content","extend","Page","GeoWeather","IndexPage","this","timeInterval","setInterval","today","Date","hour","getHours","minute","getMinutes","second","getSeconds","document","getElementById","innerHTML","clearInterval","items","bgimage","add","m","style","id","Widget","Widgets","component","isDisabled","isUnique","placement"],"sourceRoot":""}